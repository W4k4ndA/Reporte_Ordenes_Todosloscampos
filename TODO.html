***Domain***
<!-- TODO:  Crear entidad Report (Reporte). esta entidad tendra los siguientes campos

-campos: dict > diccionario con los nombres de los campos que se deben mostrar en el reporte. 
                El Key es el nombre del campo para el usuario, el value es el nombre del campo para la DB -->

<!-- TODO: Crear una interfaz repositorio para conectar con la base de datos. la interfaz debe tener un metodo
generar que reciba como parametro un diccionario con los nombres de los campos que se deben mostrar
en el reporte.
El metodo debe devolver un una lista de tuplas con los datos del reporte -->


***Application***
<!-- TODO: Crear una caso de uso GenerarReporte que reciba como parametro el diccionario con los nombres de
los campos que se deben mostrar en el reporte. El caso de uso debe llamar al repositorio para
generar el reporte y devolver la lista de tuplas con los datos del reporte
 -->

***Infrastructure***
TODO: Crear la implementacion de la interfaz repositorio para consultar la base de datos SQL Server
que es la que contiene los datos que se requieren para el reporte. Se utilizara sqlalchemy como
orm para la conexion con la base de datos. y se realizara el quiere mediane SQL raw con interpolacion
de parametros para la consulta.

<!-- este es el query que debe hacerse a la base de datos: -->
Select os.CodOrden, os.CodCliente, os.NombreCliente, Email, CodModelo, NombreModelo, CodMarca, NombreMarca,
Serial1Marca, Serial1, Serial2Marca, Serial2, Serial3Marca,
Serial3, Serial4Marca, Serial4, Serial5Marca, Serial5, CodOperadora, NombreOperadora, NoLinea, FechaCompra,
case when GarantiaFabricante = 1 then 'SI' else 'NO' end as 'Garantia Fabricante', case when GarantiaCS=1 then 'SI' else
'NO' end as 'Garantia CS', CodNivel, NombreNivel, LoginIngreso,
FechaIngreso, FechaSalida, LoginRevision, LoginReparacion, FechaReparacion, case when CodEstado=2 then 'CERRADA' else
'ABIERTA' end as Estado, CodStatus, NombreStatus, CodCentro,
NombreCentro, case when GarantiaFabricanteTCS = 1 then 'SI' else 'NO' end as 'Garantia Fabricante TCS', case when
GarantiaCSTCS = 1 then 'SI' else 'NO' end as 'Garantia CS TCS',
ObsTecnico, LastCodStatus, ObsCliente, CodSintoma, NombreSintoma, OrdenExterna, case when Entregado = 0 then 'SIN
ENTREGAR' else 'ENTREGADA' end as 'Â¿Entregado?',
case when Reingreso = 1 then 'SI' else 'NO' end as Reingreso, CodTipoSintoma, NombreTipoSintoma, Condiciones,
CurrentCodCentro, CurrentNombreCentro,
PrecioNivel, CodSegmento,NombreSegmento, CodCondicion, NombreCondicion, CodSeccion, NombreSeccion, CodTipoSeccion,
NombreTipoSeccion, Tlf, ObsResumen, CodNivelOp, NombreNivelOp,
os.Precio, Intercambio,
case
when TipoOrden = 1 then 'CLIENTE'
when TipoOrden = 2 then 'DOA'
when TipoOrden = 3 then 'SEEDSTOCK'
end as 'Tipo Orden', case when StatusDOA = 0 then 'SIN APROBACION' else 'APROBADA' end as 'Status DOA', FechaStatusDOA,
LoginStatusDOA, FechaOE, Reportado, FechaReportado,
STRING_AGG(re.NoParte, ', ') as Repuestos from vw_OrdenServicio1 os left join vw_Ordenes_Repuestos re on os.CodOrden =
re.CodOrden
where FechaIngreso between '20211201 00:00:00' and '20211231 23:00:00'

group by os.CodOrden, os.CodCliente, os.NombreCliente, Email, CodModelo, NombreModelo, CodMarca, NombreMarca,
Serial1Marca, Serial1, Serial2Marca, Serial2, Serial3Marca,
Serial3, Serial4Marca, Serial4, Serial5Marca, Serial5, CodOperadora, NombreOperadora, NoLinea, FechaCompra,
GarantiaFabricante, GarantiaCS, CodNivel, NombreNivel, LoginIngreso,
FechaIngreso, FechaSalida, LoginRevision, LoginReparacion, FechaReparacion, CodEstado, CodStatus, NombreStatus,
CodCentro, NombreCentro, GarantiaFabricanteTCS, GarantiaCSTCS,
ObsTecnico, LastCodStatus, ObsCliente, CodSintoma, NombreSintoma, OrdenExterna, Entregado, Reingreso, CodTipoSintoma,
NombreTipoSintoma, Condiciones, CurrentCodCentro, CurrentNombreCentro,
PrecioNivel, CodSegmento,NombreSegmento, CodCondicion, NombreCondicion, CodSeccion, NombreSeccion, CodTipoSeccion,
NombreTipoSeccion, Tlf, ObsResumen, CodNivelOp, NombreNivelOp,
os.Precio, Intercambio, TipoOrden, StatusDOA, FechaStatusDOA, LoginStatusDOA, FechaOE, Reportado, FechaReportado

order by os.CodOrden desc


TODO: Crear un service container que contenga el servicio del generador de reporte

TODO: Crear un controlador en stremalit que implemente el servicio del generador de reporte.
La interfaz de streamlit debe contener una lista de checkbox con los nombres de los
campos que se deben mostrar en el reporte y un boton para generar el reporte el cual se
debe mostrar como una tabla en la aplicacion.